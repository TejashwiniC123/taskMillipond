<app-header></app-header>
<div class="container">
  <div class="card">
  <div class="row mt-3 mr-2 mb-3">
    <div class="col-md-12 text-right">
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addEmployee">Add Employee</button>
  </div>
  </div>
  <table class="table">
    <thead>
      <tr>
      
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">View</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of employeeDetails;">
        
        <td>{{item.name}}</td>
        <td>{{item.email}}</td>
        <td><img class="ml-2" style="cursor: pointer;" src="assets/visible.png" alt="" width="20" height="20"  (click)="viewData(item)"
          data-toggle="modal"
           data-target="#employeeView"/></td>
      </tr>
      
    </tbody>
  </table>
</div>
</div>

<div class="modal fade" id="addEmployee" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="width: 700px;">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add Employee</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="employeeForm">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>Name</label>
              <input type="text" style="margin-top: -40px;" class="form-control input-lg" [(ngModel)]="name" formControlName="name"/>
         </div>
         <div *ngIf="Name.invalid && (Name.dirty || Name.touched)"
         class="alert alert-danger">
     
       <div *ngIf="Name.errors.required">
         Name is required.
       </div>
       <div *ngIf="Name.errors.minlength">
         Name must be at least 4 characters long.
       </div>
       <div *ngIf="Name.errors.forbiddenName">
         Name cannot be Bob.
       </div>
     
     
     </div> 

          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>Email</label>
              <input type="text" style="margin-top: -40px;" class="form-control input-lg" [(ngModel)]="email" formControlName="email"/>
         </div>
         <div *ngIf="Email.invalid && (Email.dirty || Email.touched)"
         class="alert alert-danger">
     
       <div *ngIf="Email.errors.required">
         Email is required.
       </div>
       <div *ngIf="Email.errors.pattern">
        Please provide a valid email address
       </div>
      
     
     
     </div> 
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>upload Image</label>
              <input accept=".png, .jpg, .jpeg" type="file" style="margin-top: -38px;" class="form-control input-lg" (change)="uploadFile($event)"/>
         </div>
          </div>
          <div class="col-md-6">
           
              <div class="form-group">
                <label>Phone no</label>
                <input type="number" style="margin-top: -40px;" class="form-control input-lg" [(ngModel)]="phone" formControlName="phone"/>
           </div>
             
          
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>Current Location</label>
              <input type="text" style="margin-top: -40px;" class="form-control input-lg" [(ngModel)]="location" formControlName="location"/>
         </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>Address</label>
              <input type="text" style="margin-top: -40px;" class="form-control input-lg" [(ngModel)]="address" formControlName="address"/>
         </div>
          </div>
        </div>
       
      </form>
      </div>
      <div class="modal-footer" style="border-top: none;">
        
        <button type="button" class="btn btn-primary m-auto" data-dismiss="modal" (click)="save()" [disabled]="!employeeForm.valid">Save </button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="employeeView" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="width:620px">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">View Employee Details</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body m-2 p-5">
        <div class="row">
          <div class="col-md-6">
            <div class="card">
            <img id="blah" [src]="image" alt="your image" width="220" height="150"/>
          </div>
         

          </div>
          <div class="col-md-6">
            <span style="color: cyan;">Name:</span>    {{name}}<br/>
            <span style="color: cyan;">Email:</span> {{email}}<br/>
            <span style="color: cyan;">Phone:</span> {{phone}}<br/>
            <span style="color: cyan;">Location:</span> {{location}}<br/>
            <span style="color: cyan;">Address:</span>  {{address}}<br/>
          </div>
        </div>
      </div>
      
    </div>
  </div>
</div>
